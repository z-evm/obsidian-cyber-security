**Post-exploitation** refers to the set of activities performed **after an attacker or pentester has gained access to a target system**. The goal is to **expand access**, **harvest data**, **escalate privileges**, **pivot** to other systems, and **maintain persistence** ‚Äî all while evading detection.

---

## üìå Objectives of Post-Exploitation

- **Validate access** (Who am I? Where am I?)
- **Gather intelligence** (Passwords, tokens, users, network info)
- **Escalate privileges** (user ‚Üí admin/root)
- **Pivot** to other systems (lateral movement)
- **Establish persistence** (regain access later)
- **Cover tracks** (hide tools, logs, and presence)

> Post-exploitation defines how much control and reach the attacker gains.

---

## üß± Common Post-Exploitation Tasks

| Task                  | Description                                              |
|------------------------|----------------------------------------------------------|
| **Privilege Escalation** | Gain SYSTEM/root/admin access                           |
| **Credential Dumping**  | Extract passwords, tokens, or hashes                     |
| **Enumeration**         | Identify network shares, users, sessions, drives        |
| **Persistence**         | Set autoruns, services, scheduled tasks                 |
| **Exfiltration Prep**   | Stage and extract data securely                         |
| **Lateral Movement**    | Access other systems via RDP, SMB, WMI, SSH             |
| **Log Manipulation**    | Remove evidence from system or event logs               |

---

## üß∞ Tools and Techniques

| Tool/Method            | Platform       | Function                                   |
|------------------------|----------------|--------------------------------------------|
| **Mimikatz**            | Windows        | Credential dumping, token impersonation    |
| **BloodHound**          | Windows AD     | Active Directory privilege path mapping    |
| **Meterpreter**         | Multi          | In-memory post-exploitation agent          |
| **CrackMapExec**        | Windows/Linux  | Credential reuse, lateral movement         |
| **Empire**              | Windows/Linux  | Full post-exploitation framework           |
| **Netstat / net / wmic**| Windows        | Built-in recon and enumeration             |
| **Scheduled Tasks**     | Windows        | Persistence and execution chaining         |
| **SSH keys**            | Linux          | Persistent and stealthy remote access      |

---

## üîç Key Data to Extract

| Category              | Examples                                              |
|-----------------------|-------------------------------------------------------|
| **Credentials**        | Hashes from SAM, cleartext from LSASS, SSH keys      |
| **System Info**        | Hostname, OS, users, AV/EDR agents                   |
| **Network Config**     | IPs, routes, open ports, shared drives               |
| **Tokens/Certs**       | AWS tokens, Kerberos tickets, browser creds          |
| **Stored Files**       | Documents, spreadsheets, passwords.txt               |

---

## üß† Common Post-Ex Modules (Metasploit)

```bash
use post/windows/gather/hashdump
use post/multi/recon/local_exploit_suggester
use post/linux/gather/enum_configs
use post/windows/manage/persistence
```

## üß™ Persistence Techniques

|OS|Technique|
|---|---|
|**Windows**|Registry Run Keys, Scheduled Tasks, Services|
|**Linux**|Cron jobs, .bashrc backdoors, SSH key drops|
|**Cross**|DLL injection, AppInit DLLs, Bootkits|

---

## üîê OpSec Considerations

- Minimize file drops (use in-memory tools like Meterpreter)
- Avoid noisy commands (PowerShell logging, Event ID 4688)
- Clean up tools and artifacts after use
- Use `sleep`, `jitter`, and `encryption` with C2 agents
- Log all actions for reproducibility in authorized tests

---

## üìò Example Workflow (Windows Target)

1. Get Meterpreter shell
2. Run `getuid`, `sysinfo`, `ps`, `ipconfig`
3. Dump credentials with `hashdump` or `kiwi`
4. Check `net share`, `route`, `netstat -ano`
5. Create scheduled task for persistence
6. Pivot to nearby host using `psexec` or `smbexec`
7. Clean artifacts with `clearev` or manual log deletion

---

## üß± Post-Exploitation Frameworks

- **Metasploit**
- **Cobalt Strike**
- **Empire**
- **Mythic**
- **Sliver**

---

## üîó Related Topics

- [[Privilege Escalation]]
- [[Lateral Movement]]
- [[Persistence Techniques]]
- [[Red Team vs Blue Team]]
- [[Metasploit Framework]]
- [[Indicators of Compromise (IOCs)]]

---

## üè∑ Suggested Tags

#post_exploitation #red_team #meterpreter #persistence #credential_dumping #pivoting #enumeration

---

## ‚úÖ To Do

-  Practice post-ex steps in Windows lab (Mimikatz, net use, schtasks)
-  Map techniques to MITRE ATT&CK (T1003, T1053, T1077, T1136)
-  Automate credential harvesting + report generation
-  Test detection evasion with in-memory tools